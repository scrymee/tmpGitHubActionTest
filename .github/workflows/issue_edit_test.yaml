name: Issue Label Trigger
on:
  issues:
    types: [edited]

jobs:
  check_issue_label:
    runs-on: ubuntu-latest
    steps:
    - name: Check issue label
      env:
        EVENT: ${{ toJson(github.event) }}
        LABELS: ${{ toJson(github.event.issue.labels) }}
        NAMES: ${{ toJson(github.event.issue.labels.*.name) }}
      run: |
        echo "$EVENT"
        echo '--------------------------------------'
        echo  "$NAMES"
        echo '--------------------------------------'
        echo 'Lavel'
        echo '--------------------------------------'
        echo "${LABELS}"
        echo '--------------------------------------'
        echo 'loop'
        echo '--------------------------------------'
        for v in ${NAMES[@]}  
          do
          echo "$v"
        done
        echo "====================================="        
        if echo "${{ github.event.issue.labels }}" | grep -q 'publish'; then
          echo "Issue has 'publish' label. Do something!"
        else
          echo "Issue does not have 'publish' label. Skipping."
        fi
    - name: chek2
      if: contains(github.event.issue.labels.*.name, 'publish')
      run: |
        echo 'labelCheck clear'

